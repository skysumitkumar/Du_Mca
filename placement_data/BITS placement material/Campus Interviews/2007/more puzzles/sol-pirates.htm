<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0057)http://www.techinterview.org/Solutions/fog0000000102.html -->
<HTML><HEAD><TITLE>answers to technical interview questions</TITLE>
<META 
content="Pryor, Michael, Michael Pryor, Michael H. Pryor, Fog Creek Software, interview questions, microsoft style interview, technical interview, programming questions, brain teasers, puzzles" 
name=keywords>
<META content="Answers to technical interview questions" name=description>
<META http-equiv=Content-Type content="text/html; charset=UTF-8">
<META content="MSHTML 6.00.2900.2180" name=GENERATOR>
<META content=3D98C6AC/102 name=citydesk>
<META http-equiv=Expires content="Mon, 01 Jan 1990 01:00:00 GMT">
<STYLE type=text/css>BODY {
	FONT-SIZE: 11px; COLOR: #555555; LINE-HEIGHT: 20px; FONT-FAMILY: geneva, verdana
}
TD {
	FONT-SIZE: 11px; COLOR: #555555; LINE-HEIGHT: 20px; FONT-FAMILY: geneva, verdana
}
P {
	FONT-SIZE: 11px; COLOR: #555555; LINE-HEIGHT: 20px; FONT-FAMILY: geneva, verdana
}
BLOCKQUOTE {
	FONT-SIZE: 11px; COLOR: #555555; LINE-HEIGHT: 20px; FONT-FAMILY: geneva, verdana
}
BODY {
	MARGIN: 0px; BACKGROUND-COLOR: #ffffff
}
A {
	TEXT-DECORATION: none
}
A:hover {
	COLOR: #ff9900; TEXT-DECORATION: underline
}
.grid {
	LINE-HEIGHT: 15px
}
</STYLE>
</HEAD>
<BODY text=#000000 vLink=#800080 aLink=#ff0000 link=#0000ff bgColor=#ffffff>
<TABLE cellSpacing=0 cellPadding=0 align=center border=0>
  <TBODY>
  <TR>
    <TD align=middle colSpan=5>
      <SCRIPT type=text/javascript><!--
google_ad_client = "pub-1798023138596629";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_channel ="";
google_ad_type = "text_image";
google_color_border = "FDEFD2";
google_color_bg = "FDEFD2";
google_color_link = "0000CC";
google_color_url = "008000";
google_color_text = "000000";
//--></SCRIPT>

      <SCRIPT src="sol-pirates_files/show_ads.js" type=text/javascript>
</SCRIPT>
    </TD></TR>
  <TR>
    <TD colSpan=5>
      <P><B><A 
      href="http://www.techinterview.org/index.html"><B>techInterview</B></A></B><BR><I>Answers 
      to technical interview questions - <A 
      href="http://www.techinterview.org/Comments/fog0000000171.html">accepting 
      donations for dogs</A></I></P></TD></TR>
  <TR height=25>
    <TD colSpan=5>&nbsp;</TD></TR>
  <TR>
    <TD vAlign=top align=right><A 
      href="http://www.techinterview.org/index.html">home</A><BR><A 
      href="http://www.techinterview.org/faq.html">faq</A><BR><A 
      href="http://www.techinterview.org/Comments/books.html">reading</A><BR><A 
      href="http://www.techinterview.org/feedback.html">feedback</A><BR><A 
      href="http://discuss.fogcreek.com/techInterview/">discuss</A><BR><A 
      href="http://www.techinterview.org/archive/index.html">archive</A><BR><A 
      href="http://www.fogcreek.com/">fogcreek</A><BR><A 
      href="http://www.fogcreek.com/FogBUGZ">bug&nbsp;tracking</A><BR><A 
      href="http://www.geocities.com/Heartland/Plains/5418/home.html">pets in 
      ny</A><BR><A href="http://www.petfinder.com/">petfinder</A> 
      <P><BR><A 
      href="http://www.amazon.com/exec/obidos/tg/detail/-/0316919160/techinterview-20"><IMG 
      src="sol-pirates_files/fujismall.png" border=0><BR>*new* techInterview 
      bible</A><BR><BR><A 
      href="http://www.techinterview.org/Comments/fog0000000171.html">thank&nbsp;your&nbsp;brain<BR>save&nbsp;a&nbsp;dog's&nbsp;life</A><BR><BR><A 
      href="http://www.fogcreek.com/CityDesk/"><IMG 
      src="sol-pirates_files/MadeWithCityDesk.gif" border=0></A><BR><BR></P></TD>
    <TD width=10>&nbsp;</TD>
    <TD width=1 bgColor=gray><BR></TD>
    <TD width=10>
    <TD vAlign=top width=600>
      <H2></H2>
      <TABLE cellSpacing=0 cellPadding=0>
        <TBODY>
        <TR>
          <TD vAlign=top>
            <P><B>Solved by michael<BR></B><BR><B>solution: pirates</B></P>
            <P>
            <P>five pirates have 100 gold coins. they have to divide up the 
            loot. in order of seniority (suppose pirate 5 is most senior, pirate 
            1 is least senior), the most senior pirate proposes a distribution 
            of the loot. they vote and if at least 50% accept the proposal, the 
            loot is divided as proposed. otherwise the most senior pirate is 
            executed, and they start over again with the next senior pirate. 
            what solution does the most senior pirate propose? assume they are 
            very intelligent and extremely greedy (and that they would prefer 
            not to die). 
            <P>(to be clear on what 50% means, 3 pirates must vote for the 
            proposal when there are 5 for it to pass. 2 if there are 4. 2 if 
            there are 3. etc... ) 
            <P>solution: most of the time i get people who give answers like 
            "the most senior pirate takes half and divides the rest up among the 
            least senior pirates." um, you missed the whole point to begin with. 
            sorry. 
            <P>any answer without a specific logic behind it is invalid. if i 
            ask you why pirate 5 gave x coins to pirate 1, please don't say 
            "because he's nice". 
            <P>now for the real solution. pirate 5 being the most senior knows 
            that he needs to get 2 other people to vote for his solution in 
            order for him not to be executed. so who can he get to vote for him, 
            and why would they choose to vote for him? if you start thinking 
            that pirate 4 will never vote for him, because he would rather have 
            5 die and then be in charge and take it all for himself, you are on 
            the right track. but it gets more complicated. 
            <P>lets consider if there were only 1 pirate. obviously he would 
            take it all for himself and no one would complain. 
            <P>if there were 2 pirates, pirate 2 being the most senior, he would 
            just vote for himself and that would be 50% of the vote, so he's 
            obviously going to keep all the money for himself. 
            <P>if there were 3 pirates, pirate 3 has to convince at least one 
            other person to join in his plan. so who can he convince and how? 
            here is the leap that needs to be made to solve this problem. 
            <B>pirate 3 realizes that if his plan is not adopted he will be 
            executed and they will be left with 2 pirates</B>. he already knows 
            what happens when there are 2 pirates as we just figured out. pirate 
            2 takes all the money himself and gives nothing to pirate 1. so 
            pirate 3 proposes that he will take 99 gold coins and give 1 coin to 
            pirate 1. pirate 1 says, well, 1 is better than none, and since i 
            know if i don't vote for pirate 3, i get nothing, i should vote for 
            this plan. 
            <P>now we know what happens when there are 3 pirates. so what 
            happens with 4? well pirate 4 has to convince 1 other person to join 
            in his plan. he knows if he walks the plank then pirate 3 will get 
            99 coins and pirate 1 will get 1 coin. pirate 4 could propose giving 
            pirate 1 two coins, and surely pirate 1 would vote for him, since 2 
            is better than 1. but as greedy as he is, pirate 4 would rather not 
            part with 2 whole coins. he realizes that if he gets executed, then 
            pirate 3's scenario happens and pirate 2 gets the shaft in that 
            scenario (he gets zero coins). so pirate 4 proposes that he will 
            give 1 coin to pirate 2, and pirate 2 seeing that 1 is better than 0 
            will obviously vote for this plan. 
            <P>a common objection is that pirate 2 is not guaranteed to vote for 
            this plan since he might hope for the case when there are only 2 
            pirates and then he gets all the booty. but that is why i said that 
            the pirates are extremely intelligent. pirate 2 realizes that pirate 
            3 is smart enough to make the optimal proposal, so he realizes that 
            there will never be 2 pirates left, because 3 doesn't want to die 
            and we just showed that 3 has a winning proposal. 
            <P>so lets sum up at this point 
            <P><PRE>Pirate 1  2  3  4  5
    5. ?  ?  ?  ?  ?
    4. 0  1  0 99  -
    3. 1  0 99  -  -
    2. 0 100 -  -  -
    1.100
</PRE>
            <P>once you see the pattern it becomes very clear. you have to 
            realize that when a pirate's plan does not succeed then that means 
            you are in the same situation with one less pirate.<BR>1. pirate 1 
            needs 0 other people to vote for him. so he votes for himself and 
            takes all the money. 2. pirate 2 needs 0 other people to vote for 
            him. so he votes for himself and takes all the money. pirate 1 gets 
            0. 3. pirate 3 needs 1 other person to vote for him. he gives 1 coin 
            to pirate 1 for his vote - if we are reduced to 2 pirates, pirate 1 
            gets 0 so pirate 1 knows 1 is better than none. pirate 3 takes 99. 
            pirate 2 gets 0. 4. pirate 4 needs 1 other person to vote for him. 
            he gives 1 coin to pirate 2 - if we reduce to 3 pirates, pirate 2 
            gets 0 so pirate 2 knows 1 is better than none. pirate 4 takes 99. 
            pirate 3 gets 0. pirate 1 gets 0. 5. pirate 5 needs 2 other people 
            to vote for him. its clear now that the 2 people he needs to 
            convince are the 2 who get shafted in the 4 pirate scenario - pirate 
            3 and pirate 1. so he can give them each 1 coin (which is better 
            than 0 - what they would get otherwise) and keep 98 for himself. 
            <P><PRE>Pirate 1  2  3  4  5
    5. 1  0  1  0 98
</PRE>
            <P>what happens if there are 15 pirates? pirate 15 needs 7 other 
            people to vote for him, so he recruits pirates 13,11,9,7,5,3, and 1 
            with 1 coin each and keeps 93 coins himself. those pirates will all 
            vote for him because they know that they get 0 coins if he dies and 
            pirate 14 is in charge. 
            <P>hope you enjoyed this one. its my favorite interview question of 
            all. it really allows the candidate to ask a lot of interesting 
            questions and its really amazing when they reach the solution all by 
            themselves (as all <A href="http://www.fogcreek.com/">fogcreek</A> 
            employees have done so far). </P><BR clear=all>
            <P></B></P></TD>
          <TD width=20>&nbsp;</TD>
          <TD vAlign=top>
            <SCRIPT type=text/javascript><!--
google_ad_client = "pub-1798023138596629";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_channel ="";
google_ad_type = "text";
google_color_border = "B4D0DC";
google_color_bg = "ECF8FF";
google_color_link = "0000CC";
google_color_url = "008000";
google_color_text = "6F6F6F";
//--></SCRIPT>

            <SCRIPT src="sol-pirates_files/show_ads.js" type=text/javascript>
</SCRIPT>
          </TD></TR></TBODY></TABLE>
      <P>
      <P></P></TD></TR>
  <TR>
    <TD align=middle colSpan=5>
      <HR noShade SIZE=1>
      <BR>
      <DIV align=center><A 
      href="http://www.techinterview.org/index.html">home</A> | <A 
      href="http://www.fogcreek.com/">software development</A> | <A 
      href="http://www.fogcreek.com/FogBUGZ">bug tracking software</A> | <A 
      href="http://www.techinterview.org/archive.html">archive</A> 
      </DIV><BR><SPAN style="DISPLAY: none">[<A 
      href="http://discuss.fogcreek.com/">general software discussion</A>] [<A 
      href="http://nyca.net/">dogs new york city</A>] [<A 
      href="http://www.fogcreek.com/FogBUGZ/">Software Quality</A>] 
</SPAN></TD></TR>
  <TR>
    <TD align=middle colSpan=5>
      <SCRIPT type=text/javascript><!--
google_ad_client = "pub-1798023138596629";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_channel ="";
google_ad_type = "text_image";
google_color_border = "FDEFD2";
google_color_bg = "FDEFD2";
google_color_link = "0000CC";
google_color_url = "008000";
google_color_text = "000000";
//--></SCRIPT>

      <SCRIPT src="sol-pirates_files/show_ads.js" type=text/javascript>
</SCRIPT>
    </TD></TR></TBODY></TABLE></BODY></HTML>
