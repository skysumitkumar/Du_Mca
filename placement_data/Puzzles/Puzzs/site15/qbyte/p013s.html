<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><title>Nick's Mathematical Puzzles: Solution 13</title>
<meta name="Description" content="Probability puzzle solution: Coin triplets" />
<meta name="Keywords" content="probability,coin triplets,transitive,expected return,mathematical puzzle" /><link rel="stylesheet" href="puzz4.css" tppabs="http://www.qbyte.org/puzzles/puzz4.css" type="text/css" /><link rel="shortcut icon" href="javascript:if(confirm('http://www.qbyte.org/favicon.ico  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.qbyte.org/favicon.ico'" tppabs="http://www.qbyte.org/favicon.ico" />
<style type="text/css">.ds{background:#ccc;color:inherit}td span.dr,.dr{color:#c00;background:transparent}</style></head>
<body><div class="o">
<div class="m"><a href="#main"><img src="s.gif" tppabs="http://www.qbyte.org/puzzles/s.gif" alt="Skip to main content." height="1" width="1" /></a><ul><li>Puzzles: </li><li><a href="puzzle01.html" tppabs="http://www.qbyte.org/puzzles/puzzle01.html">1-10</a> </li><li><a href="puzzle02.html" tppabs="http://www.qbyte.org/puzzles/puzzle02.html">11-20</a> </li><li><a href="puzzle03.html" tppabs="http://www.qbyte.org/puzzles/puzzle03.html">21-30</a> </li><li><a href="puzzle04.html" tppabs="http://www.qbyte.org/puzzles/puzzle04.html">31-40</a> </li><li><a href="puzzle05.html" tppabs="http://www.qbyte.org/puzzles/puzzle05.html">41-50</a> </li><li><a href="puzzle06.html" tppabs="http://www.qbyte.org/puzzles/puzzle06.html">51-60</a> </li><li><a href="puzzle07.html" tppabs="http://www.qbyte.org/puzzles/puzzle07.html">61-70</a> </li><li><a href="puzzle08.html" tppabs="http://www.qbyte.org/puzzles/puzzle08.html">71-80</a> </li><li><a href="puzzle09.html" tppabs="http://www.qbyte.org/puzzles/puzzle09.html">81-90</a> </li><li><a href="puzzle10.html" tppabs="http://www.qbyte.org/puzzles/puzzle10.html">91-100</a> </li><li><a href="puzzle11.html" tppabs="http://www.qbyte.org/puzzles/puzzle11.html">101-110</a> </li><li><a href="puzzle12.html" tppabs="http://www.qbyte.org/puzzles/puzzle12.html">111-120</a> </li><li><a href="puzzle99.html" tppabs="http://www.qbyte.org/puzzles/puzzle99.html">Index</a> </li><li>| </li><li><a href="javascript:if(confirm('http://www.qbyte.org/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.qbyte.org/'" tppabs="http://www.qbyte.org/">Home</a> </li><li><a href="index.htm" tppabs="http://www.qbyte.org/puzzles/">About</a> </li><li><a href="accessibility.html" tppabs="http://www.qbyte.org/puzzles/accessibility.html">Accessibility</a></li></ul></div>
<h1 id="main">Solution to puzzle 13: Coin triplets</h1>
<p>To answer these questions we need to calculate, for each pair of triplets, the probability that one triplet appears before the other.&nbsp; Given that each triplet is equally likely, it may initially seem that each is equally likely to appear first.&nbsp; For an example of why this is not so, consider the triplets HHH and THH.&nbsp; The only way for HHH to appear before THH is if the first three tosses come up heads.&nbsp; Any other result will allow THH to <em>block</em> HHH.&nbsp; Therefore, the probability that HHH appears before THH is&nbsp;1/8.</p>
<p>We may calculate the probabilities for each pair in a similar manner.&nbsp; Consider, for example, HTT <abbr title="versus">vs.</abbr> HHT.&nbsp; The probability HTT appears first is the mean of that probability over the four possibilities for the first two coin tosses.&nbsp; Let, for example, p(HT) be the probability HTT appears first following HT.&nbsp; Then we have:</p>
<p class="i">(1)&nbsp; p(HH) = p(HH)/2<br />(2)&nbsp; p(HT) = p(TH)/2 + 1/2<br />(3)&nbsp; p(TH) = p(HH)/2 + p(HT)/2<br />(4)&nbsp; p(TT) = p(TH)/2 + p(TT)/2</p>
<p>(1) <img src="imp.gif" tppabs="http://www.qbyte.org/puzzles/imp.gif" width="16" height="9" alt="implies" /> p(HH) = 0.&nbsp; (HTT can avoid losing only by hoping for an infinite string of heads!)<br />
(3) <img src="imp.gif" tppabs="http://www.qbyte.org/puzzles/imp.gif" width="16" height="9" alt="implies" /> p(TH) = p(HT)/2<br />
(2) <img src="imp.gif" tppabs="http://www.qbyte.org/puzzles/imp.gif" width="16" height="9" alt="implies" /> p(HT) = p(HT)/4 + 1/2 <img src="imp.gif" tppabs="http://www.qbyte.org/puzzles/imp.gif" width="16" height="9" alt="implies" /> p(HT) = 2/3<br />
(3) <img src="imp.gif" tppabs="http://www.qbyte.org/puzzles/imp.gif" width="16" height="9" alt="implies" /> p(TH) = 1/3<br />
(4) <img src="imp.gif" tppabs="http://www.qbyte.org/puzzles/imp.gif" width="16" height="9" alt="implies" /> p(TT) = p(TH) <img src="imp.gif" tppabs="http://www.qbyte.org/puzzles/imp.gif" width="16" height="9" alt="implies" /> p(TT) = 1/3</p>
<p>The mean of these four results gives us: probability of HTT appearing before HHT = 1/3.</p>
<p>Here is the full table.&nbsp; Notice the surprising non-<a href="javascript:if(confirm('http://nrich.maths.org/mathsf/journalf/jan99/art2/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://nrich.maths.org/mathsf/journalf/jan99/art2/'" tppabs="http://nrich.maths.org/mathsf/journalf/jan99/art2/">transitivity</a>.&nbsp; Example:&nbsp;HHT beats HTT beats TTH beats THH beats HHT.</p>
<table summary="Coin triplet probabilities for each possible combination of triplets. Player 1's triplet is given in the column header; player 2's triplet in the row header. The leading diagonal, which represents both players choosing the same triplet, is left blank." border="1" cellspacing="0" cellpadding="8"><caption>Coin triplet probabilities</caption>
<thead><tr><th scope="col">2\1</th><th scope="col">HHH</th><th scope="col">HHT</th><th scope="col">HTH</th><th scope="col">HTT</th><th scope="col">THH</th><th scope="col">THT</th><th scope="col">TTH</th><th scope="col">TTT</th></tr></thead><tbody>
<tr><th scope="row">HHH</th><td class="ds">&nbsp;</td><td>1/2</td><td>2/5</td><td>2/5</td><td>1/8</td><td>5/12</td><td>3/10</td><td>1/2</td></tr><tr><th scope="row">HHT</th><td>1/2</td><td class="ds">&nbsp;</td><td>2/3</td><td>2/3</td><td>1/4</td><td>5/8</td><td>1/2</td><td>7/10</td></tr>
<tr><th scope="row">HTH</th><td>3/5</td><td>1/3</td><td class="ds">&nbsp;</td><td>1/2</td><td>1/2</td><td>1/2</td><td>3/8</td><td>7/12</td></tr><tr><th scope="row">HTT</th><td>3/5</td><td>1/3</td><td>1/2</td><td class="ds">&nbsp;</td><td>1/2</td><td>1/2</td><td>3/4</td><td>7/8</td></tr>
<tr><th scope="row">THH</th><td>7/8</td><td>3/4</td><td>1/2</td><td>1/2</td><td class="ds">&nbsp;</td><td>1/2</td><td>1/3</td><td>3/5</td></tr><tr><th scope="row">THT</th><td>7/12</td><td>3/8</td><td>1/2</td><td>1/2</td><td>1/2</td><td class="ds">&nbsp;</td><td>1/3</td><td>3/5</td></tr>
<tr><th scope="row">TTH</th><td>7/10</td><td>1/2</td><td>5/8</td><td>1/4</td><td>2/3</td><td>2/3</td><td class="ds">&nbsp;</td><td>1/2</td></tr><tr><th scope="row">TTT</th><td>1/2</td><td>3/10</td><td>5/12</td><td>1/8</td><td>2/5</td><td>2/5</td><td>1/2</td><td class="ds">&nbsp;</td></tr></tbody></table>
<h2>a. What is the optimal strategy for each player?&nbsp; With best play, who is most likely to win?</h2>
<p>The table shows that, for any triplet chosen by player 1, player 2 can always select a triplet that is more likely to appear first.&nbsp; In particular, the best response to each play by player 1, is:</p>
<table summary="Player 2's best response to each play by player 1. The first two coins of player 1's triplet and the last two coins of player 2's triplet are colored red. Color red is used to indicate player 2's blocking strategy; see paragraph following table." border="0" cellspacing="0" cellpadding="1" class="i">
<tr><td><span class="dr" title="red">HH</span>H: </td><td>T<span class="dr" title="red">HH</span></td><td>&nbsp; wins with probability 7/8</td></tr><tr><td><span class="dr" title="red">HH</span>T: </td><td>T<span class="dr" title="red">HH</span></td><td>&nbsp; wins with probability 3/4</td></tr>
<tr><td><span class="dr" title="red">HT</span>H: </td><td>H<span class="dr" title="red">HT</span></td><td>&nbsp; wins with probability 2/3</td></tr><tr><td><span class="dr" title="red">HT</span>T: </td><td>H<span class="dr" title="red">HT</span></td><td>&nbsp; wins with probability 2/3</td></tr></table>
<p>The <span class="dr" title="red">color coding</span> illustrates the following strategy.&nbsp; Player 2 wants the final two coins of his triplet to be the first two in player 1's, because then he <em>blocks</em> half the cases where player 1 could win on the next round, by winning first.&nbsp; Similarly, player 2 wants the first two coins in his triplet <em>not</em> to be the final two coins in player 1's.&nbsp; This intuitive strategy is indeed supported by the probabilities listed in the above table.</p>
<p>The optimal strategy for player 1 is to choose triplet HTH or HTT, or their mirror images, THT or THH.&nbsp; This limits player 2's probability of winning to 2/3.</p>
<h2>b. Suppose the triplets were chosen in secret?&nbsp; What then would be the optimal strategy?</h2>
<p>From the table above, an optimal strategy for both players is to choose at random, with probability 1/2 for each, between HTT, and its mirror image, THH.&nbsp; The choice must be random so that the other player cannot discern and exploit any pattern of switching between HTT and THH.<br />
<em>(Note: These statements, while true, require rigorous proof; to be added.)</em></p>
<h2>c. What would be the optimal strategy against a randomly selected triplet?</h2>
<p>The expected return of each triplet against a randomly chosen triplet can be calculated from the above table.</p>
<p>We must decide what to do if our play matches the randomly selected triplet.&nbsp; We may call this void and play again, or we may split the (notional) winnings.&nbsp; The decision does not affect our choice of best play, but it does slightly alter the expected return from each play.</p>
<p>For example, the expected return for HHH, if we choose to void matching triplets, is:<br />
<span class="i">(1/2 + 2/5 + 2/5 + 1/8 + 5/12 + 3/10 + 1/2) / 7 = 317/840 <img src="approx.gif" tppabs="http://www.qbyte.org/puzzles/approx.gif" alt="is approximately equal to" width="11" height="9" /> 0.377.</span><br />
On the other hand, if we choose to split matching triplets, the expected return is:<br />
<span class="i">(1/2 + 1/2 + 2/5 + 2/5 + 1/8 + 5/12 + 3/10 + 1/2) / 8 = 377/960 <img src="approx.gif" tppabs="http://www.qbyte.org/puzzles/approx.gif" alt="is approximately equal to" width="11" height="9" /> 0.393.</span></p>
<p>The best play against a random triplet is HTT or THH.&nbsp; The table below shows the expected return and percentage expected profit from each play.</p>
<table summary="Expected return and percentage expected profit from each play." border="1" cellspacing="0" cellpadding="4">
<caption>Summary of expected return and profit</caption>
<thead><tr><th scope="col">Play</th><th scope="col">Expected return<br />(void)</th><th scope="col">% expected profit<br />(void)</th><th scope="col">Expected return<br />(split)</th><th scope="col">% expected profit<br />(split)</th></tr></thead>
<tbody align="center"><tr><td>HHH</td><td>317/840</td><td>-12.3</td><td>377/960</td><td>-10.7</td></tr><tr><td>HHT</td><td>469/840</td><td>5.8</td><td>529/960</td><td>5.1</td></tr><tr><td>HTH</td><td>407/840</td><td>-1.5</td><td>467/960</td><td>-1.4</td></tr><tr><td>HTT</td><td>487/840</td><td>8.0</td><td>547/960</td><td>7.0</td></tr></tbody></table>
<p class="c"><cite>Source: <a href="javascript:if(confirm('http://www.amazon.com/exec/obidos/ASIN/0393020231  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.amazon.com/exec/obidos/ASIN/0393020231'" tppabs="http://www.amazon.com/exec/obidos/ASIN/0393020231">The Colossal Book of Mathematics: Classic Puzzles, Paradoxes, and Problems</a>, by <a href="javascript:if(confirm('http://www.csicop.org/si/9803/gardner.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.csicop.org/si/9803/gardner.html'" tppabs="http://www.csicop.org/si/9803/gardner.html">Martin Gardner</a>. See Chapter 22.</cite></p>
<div id="n" class="m"><ul><li>Puzzles: </li><li><a href="puzzle01.html" tppabs="http://www.qbyte.org/puzzles/puzzle01.html">1-10</a> </li><li><a href="puzzle02.html" tppabs="http://www.qbyte.org/puzzles/puzzle02.html">11-20</a> </li><li><a href="puzzle03.html" tppabs="http://www.qbyte.org/puzzles/puzzle03.html">21-30</a> </li><li><a href="puzzle04.html" tppabs="http://www.qbyte.org/puzzles/puzzle04.html">31-40</a> </li><li><a href="puzzle05.html" tppabs="http://www.qbyte.org/puzzles/puzzle05.html">41-50</a> </li><li><a href="puzzle06.html" tppabs="http://www.qbyte.org/puzzles/puzzle06.html">51-60</a> </li><li><a href="puzzle07.html" tppabs="http://www.qbyte.org/puzzles/puzzle07.html">61-70</a> </li><li><a href="puzzle08.html" tppabs="http://www.qbyte.org/puzzles/puzzle08.html">71-80</a> </li><li><a href="puzzle09.html" tppabs="http://www.qbyte.org/puzzles/puzzle09.html">81-90</a> </li><li><a href="puzzle10.html" tppabs="http://www.qbyte.org/puzzles/puzzle10.html">91-100</a> </li><li><a href="puzzle11.html" tppabs="http://www.qbyte.org/puzzles/puzzle11.html">101-110</a> </li><li><a href="puzzle12.html" tppabs="http://www.qbyte.org/puzzles/puzzle12.html">111-120</a> </li><li><a href="puzzle99.html" tppabs="http://www.qbyte.org/puzzles/puzzle99.html">Index</a> </li><li>| </li><li><a href="javascript:if(confirm('http://www.qbyte.org/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.qbyte.org/'" tppabs="http://www.qbyte.org/">Home</a> </li><li><a href="index.htm" tppabs="http://www.qbyte.org/puzzles/">About</a> </li><li><a href="accessibility.html" tppabs="http://www.qbyte.org/puzzles/accessibility.html">Accessibility</a></li></ul></div></div></body></html>