
<HTML>

<!-- Mirrored from www.cracktheinterview.com by HTTrack Website Copier/3.x [XR,YP'2001] -->
<HEAD>
<TITLE>CRACK THE INTERVIEW - Write C code to return a string from a function  (www.cracktheinterview.com)</TITLE><style type="text/css">
<!--
.breakhere     {page-break-before: always}

A:link         {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:9pt; color:#996633} 
A:active       {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:9pt; color:#000000} 
A:visited      {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:9pt; color:#996633} 

H1             {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:12pt; font-weight:bold; color:#336699} 
H2             {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:small; font-weight:bold} 
.normal        {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:9pt; color:#000000} 
.announce      {font-family:Verdana, Arial, Helvetica, Geneva,
                sans-serif; color:#000000} 
.announceLink  {font-family:Verdana, Arial, Helvetica, Geneva,
                sans-serif; color:#336699} 
.note          {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:8pt ! important; font-weight:normal} 
.system        {font-family:Courier New, Courier; font-size:x-small;
                font-weight:normal} 
.stayblue      {color:#336699 ! important}
.title         {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:larger ! important} 
.error         {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:small; color:#aa0000; font-weight:bold} 
.notelink      {font-family:Arial, Helvetica, Geneva, sans-serif;
                color:#336699 ! important; font-weight:normal;
                font-size:9pt ! important} 
.tableHeader   {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:10pt; color:#336699; font-weight: bold;
                background-color:#3284FF} 
.tableHeaderSmall {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:8pt; color:#336699; font-weight: bold;
                background-color:#3284FF} 
.tableRow      {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:10pt; color:black; font-weight: normal;
                background-color:#f7f7e7} 
.tableBlank    {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:10pt; color:black; font-weight: normal;
                background-color:#ffffff} 
.hardlink      {font-family:Arial, Helvetica, Geneva, sans-serif;
                color:#336699 ! important; font-weight:bold;
                font-size:8pt ! important} 
.boxlink       {font-family:Arial, Helvetica, Geneva, sans-serif;
                color:#000000 ! important; font-weight:normal;
                font-size:8pt ! important} 
.hardnote      {font-family:Arial, Helvetica, Geneva, sans-serif;
                color:black ! important; font-weight:normal;
                font-size:8pt ! important} 
.tableRowSmall {font-family:Verdana, Arial, Helvetica, Geneva,
                sans-serif; font-size:8pt; color:black; font-weight:
                normal} 
.tableRowSmallBold {font-family:Verdana, Arial, Helvetica, Geneva,
                sans-serif; font-size:8pt; color:black; font-weight:
                bold} 
.blueHeading   {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:12pt! important; font-weight:bold;
                color:#336699! important} 
.blueHeadingLarge {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:16pt! important; font-weight:normal;
                color:#336699} 
.blueHeadingMid {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:12pt! important; font-weight:normal;
                color:#336699}
.blueHeadingSmall {font-family:Arial, Helvetica, Geneva, sans-serif;
                font-size:10pt! important; font-weight:bold;
                color:#336699} 
.tableHeaderV  {font-family:Verdana,Arial, Helvetica, Geneva, sans-serif;
                font-size:8pt; color:#336699; font-weight: bold;
                background-color:#3284FF} 
.tableRowV     {font-family:Verdana,Arial, Helvetica, Geneva,
                sans-serif; font-size:8pt; color:black; font-weight:
                normal; background-color:#f7f7e7} 
.just          {text-align: justify}
-->
</style>

<META NAME="keywords" CONTENT="interview,C,return a string,function">
<META NAME="description" CONTENT="Write C code to return a string from a function ">
<META NAME="robots" CONTENT="FOLLOW,INDEX">
<META HTTP-EQUIV="no-cache">
<META HTTP-EQUIV="expires" CONTENT="Wed, 26 Feb 1997 08:21:57 GMT">

</HEAD>
<BODY>
<TABLE BORDER=0 cellpadding=10>



<TR>
<TD WIDTH=100%% valign=top colspan=2><CENTER><A HREF="../index.html"><IMG SRC=../images/logo2.jpg border=0></img></A></CENTER></TD>


<TR>
<TD WIDTH=100%% valign=top colspan=2>
<CENTER>


<!--START:ADS0-->

<script type="text/javascript">
<!--
google_ad_client = "pub-4208362929074433";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//-->
</script>
<script type="text/javascript"
  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>



<!--END-->


</CENTER>
</TD>
</TR>





<TR>
<TD WIDTH=100%% valign=top colspan=2><CENTER>

<!--START:LINKS-->


<TABLE BORDER=0 cellpadding=10>
<TR><TD NOWRAP>
<A HREF="../index.html" target="_top"><font class=announcelink>Home</font></A><BR>
</TD>

<TD NOWRAP>
<A HREF="../adfaqpublish.html" target="_top"><font class=announcelink>Questions</font></A><BR>
</TD>


<TD NOWRAP>
<A href="../search.html" target="_top"><font class=announcelink>Search</font></A><BR>
</TD>

<TD NOWRAP>
<A HREF="../forum/index.html" target="_top"><font class=announcelink>Forum</font></A><BR>
</TD>

<TD NOWRAP>
<A href="mailto:cracktheinterview@gmail.com?subject=Hi!"><font class=announcelink>Contact</font></A><BR>
</TD>

<TD NOWRAP>
<A href="../forum/viewforum12a3.html" target="_top"><font class=announcelink>Guest Book</font></A><BR>
</TD>

<TD NOWRAP>
<A href="../forum/viewforum4d6b.html" target="_top"><font class=announcelink>Polls!</font></A><BR>
</TD>

<TD NOWRAP>
<A href="../forum/viewforum31e6.html" target="_top"><font class=announcelink>Got a Question?</font></A><BR>
</TD>

</TABLE>

<!--END-->

</CENTER></TD>
</TR>


<TR>
<TD WIDTH=100%% valign=top colspan=2><CENTER> &nbsp; </CENTER></TD>
</TR>


<TR>
<TD WIDTH=90%% valign=top>





<!--START : DATA-->



<TABLE BORDER=0>

<TR>
<TD WIDTH=5%%><CENTRE><font class=notelink><A HREF="2_13.html">PREV</A></font></CENTRE></TD>
<TD WIDTH=90%%><center><font class=blueHeading>Programs</font></center></TD>
<TD WIDTH=5%%><CENTRE><font class=notelink><A HREF="2_15.html">NEXT</A></font></CENTRE></TD></TR>
<TR>
<TD WIDTH=5%%><CENTRE>&nbsp;</CENTRE></TD>
<TD WIDTH=90%%><CENTER><font class=blueHeading>(41 / 268)</font></center></TD>
<TD WIDTH=5%%><CENTRE>&nbsp;</CENTRE></TD></TR>
<TR>
<TD WIDTH=5%%></TD>
<TD WIDTH=90%%><center>&nbsp;</center></TD>
<TD WIDTH=5%%></TD></TR>
<TR>
<TD COLSPAN=3 width=700 align=left>
<font class=announceLink><BR><BR><BR>
<!--THE QUESTION-->

Write C code to return a string from a function <BR>
<!--END-->
<BR></font></TD></TR>
<TR>
<TD COLSPAN=3 width=700 align=left>
<font class=normal>
<!--THE ANSWER--><BR>
<!--META:START--><!--interview,C,return a string,function--><!--META:END--><BR>
<!--UPDATED--><BR>
<font class=announcelink>This is one of the most popular interview questions</font><BR>
<BR>
This C program <font class=announcelink>wont</font> work!<BR>
<BR>
<CODE><BR>
char&nbsp;*myfunction(int&nbsp;n)<BR>
{<BR>
&nbsp;&nbsp;&nbsp;char&nbsp;buffer[20];<BR>
&nbsp;&nbsp;&nbsp;sprintf(buffer,&nbsp;"%d",&nbsp;n);<BR>
&nbsp;&nbsp;&nbsp;return&nbsp;retbuf;&nbsp;<BR>
}<BR>
</CODE><BR>
<BR>
<BR>
This <font class=announcelink>wont</font> work either!<BR>
<BR>
<CODE><BR>
char&nbsp;*myfunc1()<BR>
{<BR>
&nbsp;&nbsp;char&nbsp;temp[]&nbsp;=&nbsp;"string";<BR>
&nbsp;&nbsp;return&nbsp;temp;<BR>
}<BR>
<BR>
<BR>
char&nbsp;*myfunc2()<BR>
{<BR>
&nbsp;&nbsp;&nbsp;char&nbsp;temp[]&nbsp;=&nbsp;{'s',&nbsp;'t',&nbsp;'r',&nbsp;'i',&nbsp;'n',&nbsp;'g',&nbsp;'\0'};<BR>
&nbsp;&nbsp;&nbsp;return&nbsp;temp;<BR>
}<BR>
<BR>
<BR>
int&nbsp;main()<BR>
{<BR>
&nbsp;&nbsp;&nbsp;&nbsp;puts(myfunc1());<BR>
&nbsp;&nbsp;&nbsp;&nbsp;puts(myfunc2());<BR>
}<BR>
</CODE><BR>
<BR>
<BR>
<BR>
The returned pointer should be to a <font class=announcelink>static buffer (like static char buffer[20];)</font>, or <font class=announcelink>to a buffer passed in by the caller function</font>, or <font class=announcelink>to memory obtained using malloc()</font>, but <font class=announcelink>not</font> to a local array. <BR>
<BR>
This will work<BR>
<BR>
<CODE><BR>
char&nbsp;*myfunc()<BR>
{<BR>
&nbsp;&nbsp;&nbsp;char&nbsp;*temp&nbsp;=&nbsp;"string";<BR>
&nbsp;&nbsp;&nbsp;return&nbsp;temp;<BR>
}<BR>
<BR>
int&nbsp;main()<BR>
{<BR>
&nbsp;&nbsp;&nbsp;puts(someFun());<BR>
}<BR>
</CODE> <BR>
<BR>
<BR>
So will this<BR>
<BR>
<CODE><BR>
calling_function()<BR>
{&nbsp;<BR>
&nbsp;&nbsp;char&nbsp;*string;&nbsp;<BR>
&nbsp;&nbsp;return_string(&string);&nbsp;<BR>
&nbsp;&nbsp;printf(?\n[%s]\n?,&nbsp;string);<BR>
}<BR>
<BR>
boolean&nbsp;return_string(char&nbsp;**mode_string&nbsp;/*Pointer&nbsp;to&nbsp;a&nbsp;pointer!&nbsp;*/)&nbsp;<BR>
{&nbsp;<BR>
&nbsp;&nbsp;&nbsp;*string&nbsp;=&nbsp;(char&nbsp;*)&nbsp;malloc(100&nbsp;*&nbsp;sizeof(char));&nbsp;<BR>
&nbsp;&nbsp;&nbsp;DISCARD&nbsp;strcpy((char&nbsp;*)*string,&nbsp;(char&nbsp;*)?Something?);&nbsp;<BR>
}<BR>
</CODE> 
<BR><BR>
<!--END-->
</font><BR></TD></TR>
<TR>
<TD WIDTH=5%%><CENTRE><font class=notelink><A HREF="2_13.html">PREV</A></font></CENTRE></TD>
<TD WIDTH=90%%><center><font class=notelink><A href="mailto:cracktheinterview@gmail.com?subject=Comments [Write C code to return a string from a function ]&Body=Question : [Write C code to return a string from a function ]"><font class=announcelink>COMMENTS</A></font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font class=notelink><A HREF=../adfaqpublish.html>INDEX</A></font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font class=notelink><a href="#" onclick="window.print();return false;">PRINT</a></font></center></TD>
<TD WIDTH=5%%><CENTRE><font class=notelink><A HREF="2_15.html">NEXT</A></font></CENTRE></TD></TR>
<TR>
<TD COLSPAN=3 width=700 align=left>
<BR><BR><BR><font class=notelink>
Last updated:

July 8, 2005<BR><BR>
<a href=../index.html>www.cracktheinterview.com</a> - Your destination for the most common IT interview questions, answers, frequently asked interview questions (FAQ), C Programs, C Datastructures for interviews conducted by Microsoft, Oracle, Google, IBM, HP, Yahoo, Infosys, Wipro, SAP, CA (Computer Associates), Sun, Adobe, GE, Novell, Cisco, Motorola, TI (Texas Instruments), Intel, TCS, iFlex, Trilogy, MindTree, GS and more...<br><BR>

</TD>
</TR>
</TABLE>




<!--END-->


</TD>




<TD WIDTH=10%% valign="top">


<!--START:ADS1-->


<script type="text/javascript">
<!--
google_ad_client = "pub-4208362929074433";
google_alternate_color = "CCCCCC";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//-->
</script>
<script type="text/javascript" src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


<BR>
<BR>
<BR>
<BR>
<BR>
<BR>
<BR>

<script type="text/javascript">
<!--
google_ad_client = "pub-4208362929074433";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text";
google_ad_channel ="";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//-->
</script>
<script type="text/javascript"  src="../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>



<!--END-->

</TD>
</TR>





</TABLE>



</BODY>

<!-- Mirrored from www.cracktheinterview.com by HTTrack Website Copier/3.x [XR,YP'2001] -->
</HTML>


